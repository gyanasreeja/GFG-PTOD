Graph Diameter
You are given an undirected graph with V vertices numbered from 0 to V-1 and E edges, represented as a 2D array edges[][], where each element edges[i] = [u, v] represents an undirected edge between vertex u and vertex v. Find the diameter of the graph.
The diameter of a graph (sometimes called the width) is the number of edges on the longest path between two vertices in the graph.

Examples :

Input: V = 6, E = 5, edges[][] = [[0, 1], [0, 4], [1, 3], [1, 2], [2, 5]]
    
Output: 4
Explanation: The longest path in the graph is from vertices 4 to vertices 5 (4 -> 0 -> 1 -> 2 -> 5).
Input: V = 7, E = 6, edges[][] = [[0, 2], [0, 4], [0, 3], [3, 1], [3, 5], [1, 6]]
    
Output: 4
Explanation: The longest path in the graph is from vertices 2 to vertices 6 (2 -> 0 -> 3 -> 1 -> 6).
Constraints:
2 ≤ V ≤  105
1 ≤ E ≤  V - 1
0 ≤ edges[i][0], edges[i][1] < V

Solution:
from collections import deque, defaultdict

class Solution:
    def diameter(self, V, edges):
        # Build adjacency list
        graph = defaultdict(list)
        for u, v in edges:
            graph[u].append(v)
            graph[v].append(u)
        
        # BFS to find farthest node and its distance from source
        def bfs(start):
            visited = [False] * V
            queue = deque([(start, 0)])  # (node, distance)
            visited[start] = True
            
            farthest_node = start
            max_distance = 0
            
            while queue:
                node, dist = queue.popleft()
                
                # Update farthest node
                if dist > max_distance:
                    max_distance = dist
                    farthest_node = node
                
                # Explore neighbors
                for neighbor in graph[node]:
                    if not visited[neighbor]:
                        visited[neighbor] = True
                        queue.append((neighbor, dist + 1))
            
            return farthest_node, max_distance
        
        # Step 1: Find farthest node from node 0
        farthest_from_0, _ = bfs(0)
        
        # Step 2: Find farthest node from the node found in step 1
        _, diameter = bfs(farthest_from_0)
        
        return diameter
